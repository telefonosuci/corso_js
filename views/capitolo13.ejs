<!DOCTYPE html>
<html lang="en">

<head>

  <%- include('includes/styles') %>

</head>

<body class="container">

  <main>

    <!-- Definizione del custom web component -->
    <template id="custom-input-template">
      <style>
          /* Stili per il componente */
          .custom-input {
              margin-bottom: 10px;
          }
          label {
              display: block;
              font-weight: bold;
          }
          input {
              width: 100%;
              padding: 5px;
          }
      </style>
      <div class="custom-input">
          <label></label>
          <input type="text">
      </div>
    </template>

    <!-- Registrazione del custom web component -->
    <script>
      // Definiamo la classe del custom web component
      class CustomInput extends HTMLElement {
          constructor() {
              super();

              // Creiamo un'istanza del template e lo cloniamo
              const template = document.getElementById('custom-input-template');
              const templateContent = template.content;

              // Aggiungiamo il template al DOM shadow
              const shadowRoot = this.attachShadow({ mode: 'open' });
              shadowRoot.appendChild(templateContent.cloneNode(true));

              // Aggiungiamo il testo dell'etichetta
              const label = shadowRoot.querySelector('label');
              label.textContent = this.getAttribute('label');
          }
      }

      // Registriamo il custom web component
      customElements.define('custom-input', CustomInput);
    </script>

    <div>
      <h1>Capitolo 13</h1>
      <h2>Custom web components</h2>
    </div>

    <div>

      <!-- Utilizzo del custom web component -->
      <custom-input label="Nome"></custom-input>
      <custom-input label="Email"></custom-input>

    </div>


  </main>


</body>

</html>